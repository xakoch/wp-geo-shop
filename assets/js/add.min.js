jQuery(function(n){var o=n(".mini-cart-sidebar"),t=n(".mini-cart-overlay"),a=n(".mini-cart-close");function i(){o.addClass("active"),n("body").addClass("mini-cart-open"),window.lenis&&window.lenis.stop()}function e(){o.removeClass("active"),n("body").removeClass("mini-cart-open"),window.lenis&&window.lenis.start()}function s(t,o){n(".cart-notification").remove();var a=n('<div class="'+(o?"cart-notification error":"cart-notification success")+'"><span class="notification-icon">'+(o?"✕":"✓")+'</span><span class="notification-text">'+(o?t:t+" добавлен в корзину")+"</span></div>");n("body").append(a),setTimeout(function(){a.addClass("show")},100),setTimeout(function(){a.removeClass("show"),setTimeout(function(){a.remove()},300)},3e3)}n(".cart-link").on("click",function(t){t.preventDefault(),i()}),a.on("click",e),t.on("click",e),n(document).on("keydown",function(t){"Escape"===t.key&&o.hasClass("active")&&e()}),n(document.body).on("added_to_cart",function(t,o,a,e){s(e.closest(".product").find(".woocommerce-loop-product__title").text()||"Товар"),setTimeout(function(){i()},300),n(".cart-count, .mini-cart-count").addClass("bounce"),setTimeout(function(){n(".cart-count, .mini-cart-count").removeClass("bounce")},600)});var c=n(".account-sidebar"),a=n(".account-overlay"),t=n(".account-close");function r(){c.removeClass("active"),n("body").removeClass("account-open"),window.lenis&&window.lenis.start()}n(".account-link").on("click",function(t){t.preventDefault(),c.addClass("active"),n("body").addClass("account-open"),window.lenis&&window.lenis.stop()}),t.on("click",r),a.on("click",r),n(document).on("keydown",function(t){"Escape"===t.key&&c.hasClass("active")&&r()}),n(".account-tab").on("click",function(){var t=n(this).data("tab");n(".account-tab").removeClass("active"),n(this).addClass("active"),n(".account-form-wrapper").removeClass("active"),n("#"+t+"-form").addClass("active")}),n(document).on("click",".single_add_to_cart_button:not(.disabled)",function(t){var o,a=n(this),e=a.closest("form.cart");e.length&&!e.hasClass("variations_form")&&(t.preventDefault(),t=e.find("input[name=add-to-cart]").val()||a.val(),o=e.find("input[name=quantity]").val()||1,a.addClass("loading").prop("disabled",!0),n.ajax({type:"POST",url:wc_add_to_cart_params.ajax_url,data:{action:"woocommerce_ajax_add_to_cart",product_id:t,quantity:o},success:function(t){t.error&&t.product_url?window.location=t.product_url:(n(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a]),s(e.closest(".product").find(".product_title").text()||"Товар"),setTimeout(function(){i()},300),a.removeClass("loading").addClass("added").prop("disabled",!1),setTimeout(function(){a.removeClass("added")},2e3))},error:function(t){console.log(t),a.removeClass("loading").prop("disabled",!1)}}))}),n(".login-form").on("submit",function(t){t.preventDefault();var t=n(this),o=t.find('button[type="submit"]'),t=t.serialize();t+="&action=ajax_login",o.prop("disabled",!0).text("Вход..."),n.ajax({type:"POST",url:"https://deeppink-horse-920297.hostingersite.com/wp-admin/admin-ajax.php",data:t,success:function(t){t.success?(s(t.data.message),setTimeout(function(){location.reload()},1e3)):(s(t.data,!0),o.prop("disabled",!1).text("Войти"))},error:function(){s("Произошла ошибка. Попробуйте позже.",!0),o.prop("disabled",!1).text("Войти")}})}),n(".register-form").on("submit",function(t){t.preventDefault();var t=n(this),e=t.find('button[type="submit"]'),t=t.serialize();t+="&action=ajax_register",e.prop("disabled",!0).text("Регистрация..."),n.ajax({type:"POST",url:"https://deeppink-horse-920297.hostingersite.com/wp-admin/admin-ajax.php",data:t,success:function(t){console.log("Register response:",t),t.success?(s(t.data.message),setTimeout(function(){location.reload()},1e3)):(s(t.data||"Произошла ошибка при регистрации.",!0),e.prop("disabled",!1).text("Зарегистрироваться"))},error:function(t,o,a){console.error("Register error:",t,o,a),s("Произошла ошибка. Попробуйте позже.",!0),e.prop("disabled",!1).text("Зарегистрироваться")}})})});